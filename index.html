<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matute Barbershop | Turnos</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --azul-boca: #003594;
            --oro-boca: #ffb81c;
            --oscuro: #050a14;
            --blanco: #f4f4f4;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--oscuro);
            color: var(--blanco);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            width: 100%;
        }

        header {
            width: 100%;
            background: linear-gradient(rgba(0,53,148,0.9), rgba(5,10,20,0.9)), url('https://images.unsplash.com/photo-1503951914875-452162b0f3f1?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            height: 40vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            border-bottom: 4px solid var(--oro-boca);
        }

        h1 { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 8vw, 3.5rem); color: var(--oro-boca); text-transform: uppercase; }

        .container { width: 100%; max-width: 800px; padding: 40px 20px; }

        .card {
            background: #0a111f;
            border: 1px solid rgba(255, 184, 28, 0.2);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        h2 { color: var(--oro-boca); margin-bottom: 25px; text-align: center; font-family: 'Playfair Display', serif; font-size: 1.8rem; }

        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; color: var(--oro-boca); font-weight: 600; font-size: 0.9rem; }
        
        input, select {
            width: 100%; padding: 12px; background: #111; border: 1px solid var(--azul-boca);
            color: white; border-radius: 6px; font-family: 'Poppins', sans-serif; outline: none;
        }

        .info-nota {
            margin-top: 10px;
            font-size: 0.8rem;
            color: rgba(244, 244, 244, 0.5);
            font-style: italic;
            text-align: center;
        }

        button {
            width: 100%; padding: 15px; background-color: var(--oro-boca); color: var(--azul-boca);
            border: none; font-weight: bold; text-transform: uppercase; cursor: pointer;
            border-radius: 6px; transition: 0.3s; margin-top: 20px;
        }

        button:hover { background-color: #e0a216; transform: translateY(-2px); }

        .turno-item {
            padding: 15px;
            border-left: 4px solid var(--oro-boca);
            background: rgba(255, 255, 255, 0.05);
            margin-bottom: 12px;
            border-radius: 4px;
        }

        .turno-fecha { color: var(--oro-boca); font-weight: bold; font-size: 0.85rem; display: block; }
        .turno-nombre { font-size: 1.1rem; font-weight: 600; display: block; margin: 2px 0; }
        .turno-servicio { font-size: 0.8rem; opacity: 0.7; display: block; font-style: italic; }
        
        .empty-msg { text-align: center; opacity: 0.5; padding: 20px; font-size: 0.9rem; }

        footer { width: 100%; text-align: center; padding: 60px 20px; font-size: 0.8rem; color: #555; }

        @media (max-width: 600px) {
            .fecha-hora-group { flex-direction: column; gap: 0 !important; }
        }
    </style>
</head>
<body>

    <header>
        <h1>Matute Barbershop</h1>
        <p>Sánchez de Loria 1380 Bis, Rosario</p>
    </header>

    <main class="container">
        <section class="card">
            <h2>Reserva tu Turno</h2>
            <form id="appointmentForm">
                <div class="form-group">
                    <label>Nombre Completo</label>
                    <input type="text" id="name" placeholder="Tu nombre" required>
                </div>
                
                <div class="form-group">
                    <label>Servicio</label>
                    <select id="service" required>
                        <option value="" disabled selected>Selecciona un servicio</option>
                        <option value="Corte ($10.000)">Corte -- $10.000</option>
                        <option value="Corte + Barba ($12.000)">Corte + Barba -- $12.000</option>
                        <option value="Barba sola ($7.000)">Barba sola -- $7.000</option>
                        <option value="Tintura Global ($50.000)">Tintura Global -- $50.000</option>
                        <option value="Mechitas ($45.000)">Mechitas -- $45.000</option>
                    </select>
                </div>

                <div class="fecha-hora-group" style="display: flex; gap: 10px;">
                    <div class="form-group" style="flex: 1;">
                        <label>Fecha</label>
                        <input type="date" id="date" required>
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <label>Hora</label>
                        <input type="time" id="time" required>
                    </div>
                </div>

                <div class="info-nota">
                    <p>• Los turnos son cada media hora</p>
                    <p>• Horarios: 10hs a 14hs y 16hs a 20hs</p>
                    <p>• Perfilado y líneas en cejas sin costo adicional</p>
                </div>
                
                <button type="submit">Confirmar Turno</button>
            </form>
        </section>

        <section class="card">
            <h2>Próximos Turnos</h2>
            <div id="tableroTurnos"></div>
        </section>
    </main>

    <footer>
        &copy; 2024 Matute Barbershop - Rosario / Contacto: 0341 744-9345
    </footer>

    <script>
        (function() {
            const form = document.getElementById('appointmentForm');
            const tablero = document.getElementById('tableroTurnos');
            const WHATSAPP_NUMBER = "5493417449345";
            const STORAGE_KEY = 'turnos_matute_barber_v2';

            function limpiarViejos() {
                let turnos = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
                const ahora = new Date();
                const vigentes = turnos.filter(t => new Date(t.raw) > ahora);
                localStorage.setItem(STORAGE_KEY, JSON.stringify(vigentes));
            }

            function render() {
                let turnos = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
                turnos.sort((a, b) => new Date(a.raw) - new Date(b.raw));

                if (turnos.length === 0) {
                    tablero.innerHTML = '<p class="empty-msg">No hay turnos registrados aún.</p>';
                    return;
                }

                tablero.innerHTML = turnos.map(t => `
                    <div class="turno-item">
                        <span class="turno-fecha">${t.fechaFormateada} -- ${t.hora} hs</span>
                        <span class="turno-nombre">${t.nombre}</span>
                        <span class="turno-servicio">${t.servicio}</span>
                    </div>
                `).join('');
            }

            form.addEventListener('submit', (e) => {
                e.preventDefault();
                const d = document.getElementById('date').value;
                const h = document.getElementById('time').value;
                const p = d.split('-');
                const f = `${p[2]}/${p[1]}/${p[0].slice(-2)}`;

                const t = {
                    id: Date.now(),
                    nombre: document.getElementById('name').value,
                    servicio: document.getElementById('service').value,
                    fechaFormateada: f,
                    hora: h,
                    raw: `${d}T${h}`
                };

                let lista = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
                lista.push(t);
                localStorage.setItem(STORAGE_KEY, JSON.stringify(lista));

                window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=Hola Matute! Agendé un turno:%0A*Nombre:* ${t.nombre}%0A*Servicio:* ${t.servicio}%0A*Fecha:* ${t.fechaFormateada}%0A*Hora:* ${t.hora}hs`, '_blank');
                
                form.reset();
                render();
            });

            limpiarViejos();
            render();
        })();
    </script>
</body>
</html>